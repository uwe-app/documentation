<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><title>Workspaces</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="content-security-policy" content="default-src data: &#x27;self&#x27;; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;;"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Group related projects"><meta name="commit" content="13746c3b74c8fe695d0fc3050cdc1f67def48073"><meta name="generator" content="uwe/0.45.3"><meta name="version" content="1.0.0"><meta name="author" content="Muji (https://tmpfs.org/)"><meta property="og:description" content="Group related projects"><meta property="og:image" content="https://uwe.app/assets/img/social.jpg"><meta property="og:site_name" content="UWE / Universal Web Editor"><meta property="og:title" content="Workspaces"><meta property="og:type" content="website"><meta property="og:url" content="https://uwe.app/docs/other/workspaces/"><link rel="stylesheet" href="../../../assets/plugins/font::inter::regular/plugins/regular/styles/fonts.css"><link rel="stylesheet" href="../../../assets/plugins/std::core/styles/standard.css"><link rel="stylesheet" href="../../../assets/plugins/std::crumbtrail/styles/crumbtrail.css"><link rel="stylesheet" href="../../../assets/plugins/std::menu/styles/menu.css"><link rel="stylesheet" href="../../../assets/plugins/std::note/styles/note.css"><link rel="stylesheet" href="../../../assets/plugins/std::sidebar/styles/sidebar.css"><link rel="icon" href="data:image/gif;base64,R0lGODlhEAAQAAAAACwAAAAAAQABAAACASgAOw=="><link rel="stylesheet" href="../../../assets/styles/main.css"><link rel="manifest" href="../../../app.webmanifest"><link rel="canonical" href="https://uwe.app/docs/other/workspaces/"></head><body><input id="sidebar-toggle" type="checkbox"><aside id="sidebar"><header><a href="../../" title="Home">Home</a><label for="sidebar-toggle"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></label></header><nav><p><a href="../../" title="Documentation">Docs</a> / <a href="../../other/" title="Other Topics">Other Topics</a></p><ul><li class='selected'><a href="../../other/workspaces/" title="Workspaces">Workspaces</a></li><li><a href="../../other/profiles/" title="Profiles">Profiles</a></li><li><a href="../../other/hooks/" title="Hooks">Hooks</a></li><li><a href="../../other/content-security-policy/" title="Content Security Policy">Content Security Policy</a></li><li><a href="../../other/json-templates/" title="JSON Templates">JSON Templates</a></li><li><a href="../../other/link-catalog/" title="Link Catalog">Link Catalog</a></li><li><a href="../../other/ignores/" title="Ignores">Ignores</a></li><li><a href="../../other/error-page/" title="Error Page">Error Page</a></li><li><a href="../../other/strict-mode/" title="Strict Mode">Strict Mode</a></li><li><a href="../../other/parallel-builds/" title="Parallel Builds">Parallel Builds</a></li><li><a href="../../other/ssl-certificates/" title="SSL Certificates">SSL Certificates</a></li></ul></nav></aside><main><header><a href="../../" title="Home">UWE</a><label for="sidebar-toggle"><span>Menu</span>&nbsp;<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></label></header><article><h1 id="workspaces">Workspaces</h1><nav class="crumbtrail"><a href="../../../" title="Universal Web Editor">Home</a><a href="../../" title="Documentation and developer reference">Documentation</a><a href="../" title="More information">Other Topics</a>
Workspaces
</nav><p>Workspaces let us group multiple related projects together so we can build them at the same time; they are useful when deploying projects to separate sub-domains. Perhaps you want your main website at <code>example.com</code>, your blog at <code>blog.example.com</code> and your documentation at <code>docs.example.com</code>.</p><div class="note"><p>Remember to replace <code>example.com</code> with your website domain name if you plan to use the workspace.</p></div><p>Currently, workspaces can only contain projects they may not contain other workspaces; if this restriction affects you please let us know in the <a href="https://github.com/uwe-app/community/discussions">community discussions</a>.</p><p>To follow along with this guide run these commands to create a workspace with multiple projects:</p><pre><code>mkdir example.com
uwe new example.com/website
uwe new example.com/blog
uwe new example.com/docs
touch example.com/site.toml
</code></pre><p>Then in the <code>example.com/site.toml</code> file define the workspace members:</p><pre><code><span style="color:#657b83;">[</span><span style="color:#b58900;">workspace</span><span style="color:#657b83;">]
</span><span style="color:#268bd2;">members </span><span style="color:#657b83;">= [
</span><span style="color:#657b83;">  </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">website</span><span style="color:#839496;">&quot;</span><span style="color:#657b83;">,
</span><span style="color:#657b83;">  </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">blog</span><span style="color:#839496;">&quot;</span><span style="color:#657b83;">,
</span><span style="color:#657b83;">  </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">docs</span><span style="color:#839496;">&quot;
</span><span style="color:#657b83;">]
</span></code></pre><p>Now each project should be given a different host name so we can create virtual hosts.</p><p>In <code>example.com/website/site.toml</code> change the <code>host</code> to the domain name you want to use, for example:</p><pre><code><span style="color:#268bd2;">host </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">example.com</span><span style="color:#839496;">&quot;
</span></code></pre><p>Then update <code>example.com/blog/site.toml</code> to use a sub-domain:</p><pre><code><span style="color:#268bd2;">host </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">blog.example.com</span><span style="color:#839496;">&quot;
</span></code></pre><p>And update <code>example.com/docs/site.toml</code> too:</p><pre><code><span style="color:#268bd2;">host </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">docs.example.com</span><span style="color:#839496;">&quot;
</span></code></pre><p>Now when you compile in the workspace folder it will build all of the projects, for example:</p><pre><code>cd example.com
uwe
</code></pre><p>When you use live reload (<code>uwe dev</code>) in a workspace all of the projects are available but only the first project in the list will be launched.</p><p>Assuming <a href="../../other/ssl-certificates/" title="SSL Certificates">SSL certificates</a> are enabled the projects can be accessed using the following URLs </p><ul><li><code>https://example-com.loopback.space:8843/</code></li><li><code>https://blog-example-com.loopback.space:8843/</code></li><li><code>https://docs-example-com.loopback.space:8843/</code></li></ul><div class="note"><p>We use the <code>loopback.space</code> domain to resolve to the <code>127.0.0.1</code> loopback address and each host name is converted to a slug and used as the sub-domain for the virtual host.</p></div><h2 id="link-projects">Link Projects</h2><p>To link to workspace projects in your templates you can use the <code>members</code> map which references an absolute URL for each project in the workspace. During development the value is a URL like the ones listed above but for release builds it will be a schemeless URL to the host such as <code>//blog.example.com/</code>.</p><p>For example to link to the <code>blog</code> workspace project:</p><pre><code><span style="color:#93a1a1;">&lt;</span><span style="color:#268bd2;">a </span><span style="color:#b58900;">href</span><span style="color:#657b83;">=</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">{{</span><span style="color:#268bd2;">members.blog</span><span style="color:#2aa198;">}}</span><span style="color:#839496;">&quot; </span><span style="color:#b58900;">title</span><span style="color:#657b83;">=</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">Blog</span><span style="color:#839496;">&quot;</span><span style="color:#93a1a1;">&gt;</span><span style="color:#657b83;">Blog</span><span style="color:#93a1a1;">&lt;/</span><span style="color:#268bd2;">a</span><span style="color:#93a1a1;">&gt;
</span></code></pre><p>Linking workspace projects like this enables links to work during development and also when published online.</p><p>There is a caveat to this technique that is important to be aware of: the <code>members</code> variable is only available when building a workspace which means that if you try to run a workspace member directly that contains a <code>members</code> reference you would get a compiler error as the variable is not available.</p><p>Assuming that <code>website</code> links to the <code>blog</code> project like in the example above if we tried to build the <code>website</code> project directly we would get an error:</p><pre><code>uwe example.com/website
</code></pre><p>Would generate an error like this:</p><div class="note error"><p>ERROR compiler::compile  &gt; Variable 'projects.blog' not found in website/site/index.md, check the variable path and verify the template data</p></div><p>The solution is to use a workspace <code>member</code> filter when we only want to launch a single project:</p><pre><code>uwe example.com -m website --live
</code></pre><p>Now the link to the <code>blog</code> project will be available and a compiler error is not generated.</p><div class="note"><p>In this scenario if you follow the link it would generate a 404 error as we did not launch a virtual host for the blog workspace member!</p></div><nav class="next_prev"><div>
  Next: <a href="../../other/profiles/" title="Profiles">Profiles</a>&nbsp;&#x27f6;
</div></nav></article><footer><div><p>Last updated Sat Jan  2 2021</p><p><a href="https://uwe.app" title="Made by Universal Web Editor" style="text-decoration: none; font-size: 12px;">MADE BY UWE</a></p></div></footer></main><script src="../../../assets/plugins/std::sidebar/scripts/sidebar.js"></script><noscript>For a better experience please enable Javascript</noscript></body></html>