<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><title>Data Provider</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="content-security-policy" content="default-src data: &#x27;self&#x27;; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;;"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Load collections data"><meta name="commit" content="ea8b4ff7f92bd211daf6cfc99a5b96ee7a8208a7"><meta name="generator" content="uwe/0.48.5"><meta name="version" content="1.0.0"><meta name="author" content="Muji (https://tmpfs.org/)"><meta property="og:description" content="Load collections data"><meta property="og:image" content="https://uwe.app/assets/img/social.jpg"><meta property="og:site_name" content="UWE / Universal Web Editor"><meta property="og:title" content="Data Provider"><meta property="og:type" content="website"><meta property="og:url" content="https://uwe.app/docs/guides/collections/data-provider/"><link rel="stylesheet" href="../../../../assets/plugins/font::inter::regular/plugins/regular/styles/fonts.css"><link rel="stylesheet" href="../../../../assets/plugins/std::alert/styles/alert.css"><link rel="stylesheet" href="../../../../assets/plugins/std::core/styles/standard.css"><link rel="stylesheet" href="../../../../assets/plugins/std::crumbtrail/styles/crumbtrail.css"><link rel="stylesheet" href="../../../../assets/plugins/std::menu/styles/menu.css"><link rel="stylesheet" href="../../../../assets/plugins/std::sidebar/styles/sidebar.css"><link rel="icon" href="data:image/gif;base64,R0lGODlhEAAQAAAAACwAAAAAAQABAAACASgAOw=="><link rel="stylesheet" href="../../../../assets/styles/main.css"><link rel="manifest" href="../../../../app.webmanifest"><link rel="canonical" href="https://uwe.app/docs/guides/collections/data-provider/"></head><body><input id="sidebar-toggle" type="checkbox" checked><aside id="sidebar"><header><a href="../../../" title="Home">Home</a><label for="sidebar-toggle"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></label></header><nav><p><a href="../../../" title="Documentation">Docs</a> / <a href="../../../guides/" title="Guides">Guides</a> / <a href="../../../guides/collections/" title="Collections">Collections</a></p><ul><li class='selected'><a href="../../../guides/collections/data-provider/" title="Data Provider">Data Provider</a></li><li><a href="../../../guides/collections/map-indices/" title="Map Indices">Map Indices</a></li><li><a href="../../../guides/collections/queries/" title="Queries">Queries</a></li><li><a href="../../../guides/collections/page-generators/" title="Page Generators">Page Generators</a></li><li><a href="../../../guides/collections/list-pagination/" title="List Pagination">List Pagination</a></li></ul></nav></aside><main><header><a href="../../../" title="Home">UWE</a><label for="sidebar-toggle"><span>Menu</span>&nbsp;<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></label></header><article><h1 id="data-provider">Data Provider</h1><nav class="crumbtrail"><a href="../../../../" title="Universal Web Editor">Home</a><a href="../../../" title="Documentation and developer reference">Documentation</a><a href="../../" title="How to guides">Guides</a><a href="../" title="Collections of data sources">Collections</a>Data Provider
</nav><p>To use a collection first we need to load some data using a <em>data provider</em>.</p><h2 id="pages">Pages</h2><p>This example shows how to load collections data from pages:</p><pre><code><span style="color:#657b83;">[</span><span style="color:#b58900;">db</span><span style="color:#657b83;">.</span><span style="color:#b58900;">load</span><span style="color:#657b83;">.</span><span style="color:#b58900;">posts</span><span style="color:#657b83;">]
</span><span style="color:#268bd2;">provider </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">pages</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">type </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">toml</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">from </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">posts</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">excludes </span><span style="color:#657b83;">= [</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">index.*</span><span style="color:#839496;">&quot;</span><span style="color:#657b83;">]
</span></code></pre><div class="alert"><p>This collection has an identifier of <code>posts</code> (the name after <code>db.load</code>) which we will need later to reference the collection.</p></div><p>The first part of this definition is the <code>provider</code> which uses a value of <code>pages</code> to indicate that the data for this collection should come from our pages. The <code>type</code> field is used to indicate the format of the data to load; currently <code>toml</code>, <code>json</code> and <code>csv</code> are supported values; however, for a <code>provider</code> with a value of <code>pages</code> this should always be <code>toml</code>.</p><p>The <code>from</code> field indicates that we are only interested in pages inside the <code>posts</code> folder for this collection - we are loading data <em>from</em> that location. The <code>from</code> path is resolved relative to the main <code>site</code> folder and must be a relative path.</p><p>Finally, we want to exclude some files from the collection so we add a glob pattern to the <code>excludes</code> array to ignore some files within the <code>posts</code> folder. Glob patterns are matched on a relative path within the <code>from</code> folder; the pattern above matches the file <code>site/posts/index.md</code> because we only want to include the blog articles in the collection not the index page.</p><h2 id="files">Files</h2><p>We can also load collections from JSON or TOML files; the convention is to put these files in <code>collections</code> within the <code>site</code> folder:</p><pre><code><span style="color:#657b83;">[</span><span style="color:#b58900;">db</span><span style="color:#657b83;">.</span><span style="color:#b58900;">load</span><span style="color:#657b83;">.</span><span style="color:#b58900;">quotes</span><span style="color:#657b83;">]
</span><span style="color:#268bd2;">type </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">json</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">provider </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">files</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">from </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">collections/quotes</span><span style="color:#839496;">&quot;
</span></code></pre><p>Which creates a collection called <code>quotes</code> that loads all JSON files in the <code>site/collections/quotes</code> folder.</p><p>When loading data sources from a folder file names are important as they become the <code>id</code> for each item in the collection which means traversing nested folders is not supported.</p><div class="alert warn"><p>JSON data providers only support the <code>object</code> type; if you need to use another type wrap it in an <code>object</code> with a property.</p></div><h2 id="document">Document</h2><p>If a data source is a single document and you want to expand it out to a collection use a <code>document</code> provider.</p><pre><code><span style="color:#657b83;">[</span><span style="color:#b58900;">db</span><span style="color:#657b83;">.</span><span style="color:#b58900;">load</span><span style="color:#657b83;">.</span><span style="color:#b58900;">colors</span><span style="color:#657b83;">]
</span><span style="color:#268bd2;">provider </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">document</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">type </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">json</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">from </span><span style="color:#657b83;">= </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">collections/colors/names.json</span><span style="color:#839496;">&quot;
</span></code></pre><div class="alert"><p>The document value must be an iterable type; either an <code>array</code> or <code>object</code>.</p></div><p>For arrays the item identitier is the index in the array and for objects the property key is the item identifier.</p><p>See the <a href="https://github.com/uwe-app/examples/tree/main/collections/document">document example</a> for a complete project using this technique.</p><nav class="next-prev"><div class="next-page">
  Next: <a href="../../../guides/collections/map-indices/" title="Map Indices">Map Indices</a>&nbsp;&#x27f6;
</div></nav></article><footer><div><p>Last updated Thu Feb 11 2021</p><p><a href="https://uwe.app" title="Made by Universal Web Editor" style="text-decoration: none; font-size: 12px;">MADE BY UWE</a></p></div></footer></main></body></html>