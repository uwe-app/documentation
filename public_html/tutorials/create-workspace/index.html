<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><title>Create Workspace</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Group related projects in a workspace"><meta name="commit" content="b7ad3583796ff928ea775a6ce287e8439023a645"><meta name="generator" content="uwe/0.48.14"><meta name="version" content="1.0.0"><meta name="author" content="Muji (https://tmpfs.org/)"><meta property="og:description" content="Group related projects in a workspace"><meta property="og:image" content="https://uwe.app/assets/img/social.jpg"><meta property="og:site_name" content="UWE / Universal Web Editor"><meta property="og:title" content="Create Workspace"><meta property="og:type" content="website"><meta property="og:url" content="https://uwe.app/docs/tutorials/create-workspace/"><link rel="stylesheet" href="../../../assets/plugins/std::alert/styles/alert.css"><link rel="stylesheet" href="../../../assets/plugins/std::crumbtrail/styles/crumbtrail.css"><link rel="stylesheet" href="../../../assets/plugins/std::menu/styles/menu.css"><link rel="stylesheet" href="../../../assets/plugins/std::sidebar/styles/sidebar.css"><link rel="stylesheet" href="../../../assets/plugins/uwe::brand::main/site/assets/styles/standard.css"><link rel="stylesheet" href="../../../assets/plugins/uwe::brand::syntax/site/assets/styles/syntax.css"><link rel="icon" href="data:image/gif;base64,R0lGODlhEAAQAAAAACwAAAAAAQABAAACASgAOw=="><link rel="stylesheet" href="../../../assets/styles/main.css"><link rel="manifest" href="../../../app.webmanifest"><link rel="canonical" href="https://uwe.app/docs/tutorials/create-workspace/"></head><body><input id="sidebar-toggle" type="checkbox" checked><aside id="sidebar"><div><header><label for="sidebar-toggle"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></label></header><section><nav><p><a href="../../" title="Documentation">Docs</a> / <a href="../../tutorials/" title="Tutorials">Tutorials</a></p><ul><li><a href="../../tutorials/getting-started/" title="Getting Started">Getting Started</a></li><li class='selected'><a href="../../tutorials/create-workspace/" title="Create Workspace">Create Workspace</a></li><li><a href="../../tutorials/using-javascript-transpiler/" title="Using Javascript Transpiler">Using Javascript Transpiler</a></li><li><a href="../../tutorials/adding-integration-tests/" title="Adding Integration Tests">Adding Integration Tests</a></li></ul></nav></section><footer><p><a
  target="_blank"
  href="https://github.com/uwe-app/website/edit/main/site/docs/tutorials/create-workspace.md"
   title="Edit on Github">Edit on Github</a></p><small><a href="https://uwe.app" title="Made by Universal Web Editor" style="text-decoration: none; font-size: 12px;">MADE BY UWE</a> (uwe/0.48.14)</small></footer></div></aside><main><header><a href="../../" title="UWE">UWE</a><label for="sidebar-toggle"><span>Menu</span>&nbsp;<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></label></header><article><h1 id="create-workspace">Create Workspace</h1><nav class="crumbtrail"><a href="../../../" title="Universal Web Editor">UWE</a><a href="../../" title="Documentation and developer reference">Documentation</a><a href="../" title="Universal Web Editor">Tutorials</a>Create Workspace
</nav><p>Workspaces let us group multiple related projects together so we can build them at the same time; they are useful when deploying projects to separate sub-domains. Perhaps you want your main website at <code>example.com</code>, your blog at <code>blog.example.com</code> and your documentation at <code>docs.example.com</code>.</p><div class="alert"><p>Remember to replace <code>example.com</code> with your website domain name if you plan to use the workspace.</p></div><p>Currently, workspaces can only contain projects they may not contain other workspaces; if this restriction affects you please let us know in the <a href="https://github.com/uwe-app/community/discussions">community discussions</a>.</p><div class="alert"><span class="label">Learn how to</span><ul class="toc"><li><a href="#create-multiple-projects">Create multiple projects</a></li><li><a href="#define-workspace-members">Define workspace members</a></li><li><a href="#set-unique-host-names">Set unique host names</a></li><li><a href="#build-all-the-workspace-members">Build all the workspace members</a></li><li><a href="#link-projects">Link Projects</a></li></ul></div><h2 id="create-multiple-projects">Create multiple projects</h2><p>To begin we use the <code>new</code> command to scaffold several projects for the workspace:</p><pre><code>mkdir example.com
cd example.com
uwe new --bare website
uwe new --bare blog blog
uwe new --bare docs
</code></pre><div class="alert"><p>The <code>--bare</code> option will skip initializing a git repository for each new project as it is more common to use a monorepo with a workspace.</p></div><h2 id="define-workspace-members">Define workspace members</h2><p>Then edit the <code>example.com/site.toml</code> file to define the members of our new workspace:</p><pre><code class="language-toml code"><span class="source toml"><span class="punctuation definition table begin toml">[</span><span class="meta tag table toml"><span class="entity name table toml">workspace</span></span><span class="punctuation definition table end toml">]</span>
<span class="meta tag key toml"><span class="entity name tag toml">members</span></span> <span class="punctuation definition key-value toml">=</span> <span class="punctuation definition array begin toml">[</span>
  <span class="string quoted double basic toml"><span class="punctuation definition string begin toml">&quot;</span>website<span class="punctuation definition string end toml">&quot;</span></span><span class="punctuation separator array toml">,</span>
  <span class="string quoted double basic toml"><span class="punctuation definition string begin toml">&quot;</span>blog<span class="punctuation definition string end toml">&quot;</span></span><span class="punctuation separator array toml">,</span>
  <span class="string quoted double basic toml"><span class="punctuation definition string begin toml">&quot;</span>docs<span class="punctuation definition string end toml">&quot;</span></span>
<span class="punctuation definition array end toml">]</span>
</span></code></pre><h2 id="set-unique-host-names">Set unique host names</h2><p>Now each project should be given a different host name so we can create virtual hosts.</p><p>In <code>example.com/website/site.toml</code> change the <code>host</code> to the domain name you want to use, for example:</p><pre><code class="language-toml code"><span class="source toml"><span class="meta tag key toml"><span class="entity name tag toml">host</span></span> <span class="punctuation definition key-value toml">=</span> <span class="string quoted double basic toml"><span class="punctuation definition string begin toml">&quot;</span>example.com<span class="punctuation definition string end toml">&quot;</span></span>
</span></code></pre><p>Then update <code>example.com/blog/site.toml</code> to use a sub-domain:</p><pre><code class="language-toml code"><span class="source toml"><span class="meta tag key toml"><span class="entity name tag toml">host</span></span> <span class="punctuation definition key-value toml">=</span> <span class="string quoted double basic toml"><span class="punctuation definition string begin toml">&quot;</span>blog.example.com<span class="punctuation definition string end toml">&quot;</span></span>
</span></code></pre><p>And update <code>example.com/docs/site.toml</code> too:</p><pre><code class="language-toml code"><span class="source toml"><span class="meta tag key toml"><span class="entity name tag toml">host</span></span> <span class="punctuation definition key-value toml">=</span> <span class="string quoted double basic toml"><span class="punctuation definition string begin toml">&quot;</span>docs.example.com<span class="punctuation definition string end toml">&quot;</span></span>
</span></code></pre><h2 id="build-all-the-workspace-members">Build all the workspace members</h2><p>Now when you compile in the workspace folder it will build all of the projects, for example:</p><pre><code>cd example.com
uwe build
</code></pre><p>When you use live reload (<code>uwe dev</code>) in a workspace all of the projects are available but only the first project in the list will be launched.</p><p>Assuming <a href="../../security/ssl-certificates/" title="SSL Certificates">SSL certificates</a> are enabled the projects can be accessed using the following URLs</p><ul><li><code>https://example-com.loopback.space:8843/</code></li><li><code>https://blog-example-com.loopback.space:8843/</code></li><li><code>https://docs-example-com.loopback.space:8843/</code></li></ul><div class="alert"><p>We use the <code>loopback.space</code> domain to resolve to the <code>127.0.0.1</code> loopback address and each host name is converted to a slug and used as the sub-domain for the virtual host.</p></div><h2 id="link-projects">Link Projects</h2><p>To link to workspace projects in your templates you can use the <code>members</code> map which references an absolute URL for each project in the workspace. During development the value is a URL like the ones listed above but for release builds it will be a schemeless URL to the host such as <code>//blog.example.com/</code>.</p><p>For example to link to the <code>blog</code> workspace project:</p><pre><code class="language-handlebars code"><span class="text html handlebars"><span class="text html basic"><span class="meta tag inline a html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag inline a html">a</span> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">href</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span><span class="meta tag template"><span class="punctuation definition tag template begin">{{</span><span class="variable other readwrite path"><span class="-path-id--id-">members</span></span><span class="-path-id--id--after-"><span class="variable other readwrite path"><span class="-path-id-after--dotted-">.blog</span></span></span><span class="punctuation definition tag template end">}}</span></span><span class="punctuation definition string end html">&quot;</span></span></span> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">title</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>Blog<span class="punctuation definition string end html">&quot;</span></span></span><span class="punctuation definition tag end html">&gt;</span></span>Blog<span class="meta tag inline a html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag inline a html">a</span><span class="punctuation definition tag end html">&gt;</span></span>
</span></span></code></pre><p>Linking workspace projects like this enables links to work during development and also when published online.</p><p>There is a caveat to this technique that is important to be aware of: the <code>members</code> variable is only available when building a workspace which means that if you try to run a workspace member directly that contains a <code>members</code> reference you would get a compiler error as the variable is not available.</p><p>Assuming that <code>website</code> links to the <code>blog</code> project like in the example above if we tried to build the <code>website</code> project directly we would get an error:</p><pre><code>uwe build example.com/website
</code></pre><p>Would generate an error like this:</p><div class="alert error"><p>ERROR compiler::compile  &gt; Variable 'projects.blog' not found in website/site/index.md, check the variable path and verify the template data</p></div><p>The solution is to use a workspace <code>member</code> filter when we only want to launch a single project:</p><pre><code>uwe dev example.com -m website
</code></pre><p>Now the link to the <code>blog</code> project will be available and a compiler error is not generated.</p><div class="alert"><p>In this scenario if you follow the link it would generate a 404 error as we did not launch a virtual host for the blog workspace member!</p></div><nav class="next-prev"><div class="prev-page">
  &#x27f5;&nbsp;Previous: <a href="../../tutorials/getting-started/" title="Getting Started">Getting Started</a></div><div class="next-page">
  Next: <a href="../../tutorials/using-javascript-transpiler/" title="Using Javascript Transpiler">Using Javascript Transpiler</a>&nbsp;&#x27f6;
</div></nav></article><footer><div><p>Last updated Mon Feb 15 2021</p><p><a href="https://uwe.app" title="Made by Universal Web Editor" style="text-decoration: none; font-size: 12px;">MADE BY UWE</a></p></div></footer></main></body></html>