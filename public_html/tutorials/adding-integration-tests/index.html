<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><title>Adding Integration Tests</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="content-security-policy" content="default-src data: &#x27;self&#x27;; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;;"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Add and run integration tests"><meta name="commit" content="ea8b4ff7f92bd211daf6cfc99a5b96ee7a8208a7"><meta name="generator" content="uwe/0.48.6"><meta name="version" content="1.0.0"><meta name="author" content="Muji (https://tmpfs.org/)"><meta property="og:description" content="Add and run integration tests"><meta property="og:image" content="https://uwe.app/assets/img/social.jpg"><meta property="og:site_name" content="UWE / Universal Web Editor"><meta property="og:title" content="Adding Integration Tests"><meta property="og:type" content="website"><meta property="og:url" content="https://uwe.app/docs/tutorials/adding-integration-tests/"><link rel="stylesheet" href="../../../assets/plugins/font::inter::regular/plugins/regular/styles/fonts.css"><link rel="stylesheet" href="../../../assets/plugins/std::alert/styles/alert.css"><link rel="stylesheet" href="../../../assets/plugins/std::core/styles/standard.css"><link rel="stylesheet" href="../../../assets/plugins/std::crumbtrail/styles/crumbtrail.css"><link rel="stylesheet" href="../../../assets/plugins/std::menu/styles/menu.css"><link rel="stylesheet" href="../../../assets/plugins/std::sidebar/styles/sidebar.css"><link rel="icon" href="data:image/gif;base64,R0lGODlhEAAQAAAAACwAAAAAAQABAAACASgAOw=="><link rel="stylesheet" href="../../../assets/styles/main.css"><link rel="manifest" href="../../../app.webmanifest"><link rel="canonical" href="https://uwe.app/docs/tutorials/adding-integration-tests/"></head><body><input id="sidebar-toggle" type="checkbox" checked><aside id="sidebar"><header><a href="../../" title="Home">Home</a><label for="sidebar-toggle"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></label></header><nav><p><a href="../../" title="Documentation">Docs</a> / <a href="../../tutorials/" title="Tutorials">Tutorials</a></p><ul><li><a href="../../tutorials/getting-started/" title="Getting Started">Getting Started</a></li><li><a href="../../tutorials/create-workspace/" title="Create Workspace">Create Workspace</a></li><li><a href="../../tutorials/using-javascript-transpiler/" title="Using Javascript Transpiler">Using Javascript Transpiler</a></li><li class='selected'><a href="../../tutorials/adding-integration-tests/" title="Adding Integration Tests">Adding Integration Tests</a></li></ul></nav></aside><main><header><a href="../../" title="Home">UWE</a><label for="sidebar-toggle"><span>Menu</span>&nbsp;<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></label></header><article><h1 id="adding-integration-tests">Adding Integration Tests</h1><nav class="crumbtrail"><a href="../../../" title="Universal Web Editor">Home</a><a href="../../" title="Documentation and developer reference">Documentation</a><a href="../" title="Universal Web Editor">Tutorials</a>Adding Integration Tests
</nav><p>Let's take a look at adding integration tests to a project. This tutorial will walk you through the process of creating a project, scaffolding integration tests and running them using the excellent <a href="https://www.cypress.io/">cypress test runner</a>. To follow along you should have already <a href="../../installation/quick-install/" title="Quick Install">installed the platform tools</a> and a modern version of <a href="https://nodejs.org">nodejs</a> that includes the <code>npx</code> program.</p><div class="alert"><span class="label">Learn how to</span><ul class="toc"><li><a href="#introduction">Introduction</a></li><li><a href="#create-a-project">Create a project</a></li><li><a href="#build-the-website">Build the website</a></li><li><a href="#install-cypress">Install cypress</a></li><li><a href="#scaffold-integration-tests">Scaffold integration tests</a></li><li><a href="#launch-the-test-runner">Launch the test runner</a></li></ul></div><h2 id="introduction">Introduction</h2><p>Integration tests are useful to check your website is functioning as intended and the pages you need exist but be careful that you only test the functionality you really care about otherwise it is easy to write brittle tests that quickly break as you make changes to the website.</p><p>The <a href="https://www.cypress.io/">cypress test runner</a> can capture videos and take screenshots as well as run tests in different browsers so it is also useful for creating presentations and other tasks.</p><h2 id="create-a-project">Create a project</h2><p>To begin let's create a new project; we'll call it <code>test-project</code>:</p><pre><code>uwe new test-project
</code></pre><h2 id="build-the-website">Build the website</h2><p>Next, let's make sure that the new project is working as expected:</p><pre><code>cd test-project
uwe dev
</code></pre><p>This should build the new project and launch a browser tab displaying the website. If everything is working close the browser tab and quit the server using the <code>Ctrl+c</code> keyboard command.</p><h2 id="install-cypress">Install cypress</h2><p>Now we need to install <a href="https://www.cypress.io/">cypress</a> into the project. The first time this is done it can take a while to download the binary but afterwards should be much faster. To install with <code>npm</code> run:</p><pre><code>npm install cypress --save-dev
</code></pre><p>See <a href="https://docs.cypress.io/guides/getting-started/installing-cypress.html">installing cypress</a> for other installation options.</p><h2 id="scaffold-integration-tests">Scaffold integration tests</h2><p>By convention we recommend putting all the files in the <code>test</code> folder and provide a command to scaffold the folders and files:</p><pre><code>uwe task init-test
</code></pre><p>After running that command your project will have a new <code>test</code> folder and a test spec in the <code>test/integration</code> folder that visits the home page.</p><h2 id="launch-the-test-runner">Launch the test runner</h2><p>The final step is to run our new integration tests:</p><pre><code>uwe test
</code></pre><p>Which will perform the following tasks:</p><ul><li>Compile the project</li><li>Start a server for the new build</li><li>Run the tests using the server URL</li><li>Shutdown the server</li></ul><p>Whilst you could perform these tasks manually it would be tedious and prone to port errors.</p><div class="alert"><p>The server for the test runner uses an ephemeral port so you can have a development server running at the same time!</p></div><p>To learn more see the <a href="https://docs.cypress.io/">cypress documentation</a> and <a href="../../in-depth/test-options/" title="Test Options">test options</a> to find out how to pass custom options.</p><nav class="next-prev"><div class="prev-page">
  &#x27f5;&nbsp;Previous: <a href="../../tutorials/using-javascript-transpiler/" title="Using Javascript Transpiler">Using Javascript Transpiler</a></div></nav></article><footer><div><p>Last updated Thu Feb 11 2021</p><p><a href="https://uwe.app" title="Made by Universal Web Editor" style="text-decoration: none; font-size: 12px;">MADE BY UWE</a></p></div></footer></main></body></html>